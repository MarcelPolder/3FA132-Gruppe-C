/*! mhCookie v1.3 | (c) Michael Hochstetter !*/
class mhCookie{constructor(){this.script=null,this.configName="mhCookie_config",this.config=null,this.tools=null,this.googleMapsMap=null,this.get=function(e){var o=window.localStorage.getItem(e);return null!==o?JSON.parse(o):{}},this.set=function(e,o){"object"==typeof o&&(o=JSON.stringify(o)),window.localStorage.setItem(e,o)},this.check=function(e=""){if(""!=e){var o=this.get(this.configName);if(void 0!==o[e]&&!0===o[e])return!0}return!1},this.erase=function(e){window.localStorage.removeItem(e)},this.generateMapsScript=function(e,o,i){this.googleMapsMap=e,void 0!==$(this.googleMapsMap).attr("callback")&&(o=!0,i=$(this.googleMapsMap).attr("callback"));var t=$(this.googleMapsMap).attr("apikey"),n=document.createElement("script");n.type="text/javascript",n.async=!0,n.defer=!0,n.src="https://maps.googleapis.com/maps/api/js?key="+t,o?n.src+="&callback="+i:n.src+="&callback=window.mhCookie.initGoogleMaps";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a),this.generateRevocation()},this.initGoogleMaps=function(){var e={lat:parseFloat($(this.googleMapsMap).attr("lat")),lng:parseFloat($(this.googleMapsMap).attr("lng"))},o=new window.google.maps.Map(this.googleMapsMap,{center:e,zoom:void 0!==$(this.googleMapsMap).attr("zoom")?parseInt($(this.googleMapsMap).attr("zoom")):10});new window.google.maps.Marker({position:e,map:o})},this.generateRevocation=function(e=""){$("<br><a href='"+this.script.data("seite")+"' class='mhCookie_btn' onClick='window.mhCookie.config[\"googleMaps\"]=false; window.mhCookie.set(\""+this.configName+"\", window.mhCookie.config); location.reload(); return false;'>"+(""!=e?e:"\uD83C\uDF6A Zustimmung widerrufen")+"</a>").insertAfter(this.googleMapsMap)},this.generateError=function(e,o,i,t){$("<div class='mhCookie_error'><p>"+i+"</p><p><a href='"+this.script.data("seite")+"' class='mhCookie_btn' onClick='window.mhCookie.config[\""+o+'"]=true; window.mhCookie.set("'+this.configName+"\", window.mhCookie.config); location.reload(); return false;'>"+t+"</a></p></div>").insertBefore(e)},this.init=function(e){var o=this;this.script=e("#mhCookie_script"),this.tools=this.script.data("tools").split(","),this.config=this.get(this.configName);var i="";this.tools.forEach(t=>{switch(void 0===this.config[t]&&(this.config[t]=!1),t){case"googleMaps":i+='<li><label><input type="checkbox" name="mhCookie_link_choose_'+t+'" class="mhCookie_link_choose_list_item_cbx" value="'+t+'"'+(!0===this.config[t]?" checked":"")+"><span>Google Maps</span></label></li>",e('[mhCookie-tool="'+t+'"]').length&&e('[mhCookie-tool="'+t+'"]').each(function(){!0===o.config[t]&&"iframe"!==this.tagName.toLowerCase()?o.generateMapsScript(this):!0===o.config[t]&&"iframe"===this.tagName.toLowerCase()?(e(this).attr("src",e(this).data("src")),o.googleMapsMap=e(this),o.generateRevocation()):(o.generateError(this,t,'F\xfcr die Kartenansicht m\xfcssen Sie den Google Datenschschutzrichtlinien (<a href="https://www.google.com/policies/privacy/" target="_blank">https://www.google.com/policies/privacy/</a>) zustimmen und das Google Maps Cookie auf unserer Webseite erlauben.',"\uD83C\uDF6A zustimmen"),this.remove())});break;case"googleAnalytics":i+='<li><label><input type="checkbox" name="mhCookie_link_choose_'+t+'" class="mhCookie_link_choose_list_item_cbx" value="'+t+'"'+(!0===this.config[t]?" checked":"")+"><span>Google Analytics</span></label></li>";break;case"googleAdsense":i+='<li><label><input type="checkbox" name="mhCookie_link_choose_'+t+'" class="mhCookie_link_choose_list_item_cbx" value="'+t+'"'+(!0===this.config[t]?" checked":"")+"><span>Google Adsense</span></label></li>";break;case"googleRecaptcha":i+='<li><label><input type="checkbox" name="mhCookie_link_choose_'+t+'" class="mhCookie_link_choose_list_item_cbx" value="'+t+'"'+(!0===this.config[t]?" checked":"")+"><span>Google ReCaptcha</span></label></li>",e('[mhCookie-tool="'+t+'"]').length&&e('[mhCookie-tool="'+t+'"]').each(function(){!1===o.config[t]&&o.generateError(this,t,"Um diese Aktion durchzuf\xfchren, m\xfcssen Sie das Google ReCaptcha Cookie auf unserer Webseite erlauben.","\uD83C\uDF6A zustimmen")})}});var t=null,n=!1,a=null;Object.values(this.config).forEach(e=>{null!==a&&a!==e&&(n=!0),a=e}),n||(t=a);var s=this.script.data("seite");e("#mhCookie_container").length&&e("#mhCookie_container").remove(),e("body").append('<div id="mhCookie_toggle" title="Cookie Einstellungen \xf6ffnen">\uD83C\uDF6A</div>'),e("body").append('<div id="mhCookie_container"></div>'),e("#mhCookie_container").append('<div id="mhCookie_text"></div>'),e("#mhCookie_text").append('<div id="mhCookie_headline">\uD83C\uDF6A Cookies</div>'),e("#mhCookie_text").append("<p>Diese Webseite verwendet Cookies. Durch diese kann u.a. fest&shy;ge&shy;stellt werden, ob Sie uns eine Einwilligung zu der Verarbeitung der Sie betreffenden personenbezogenen Daten f\xfcr einen oder mehrere bestimmte Zwecke gegeben haben (Art. 6 Abs. 1 lit a DSGVO).<br>In der Datenschutzerkl\xe4rung finden Sie weitere Informationen zu den ein&shy;ge&shy;setz&shy;ten Cookies.</p>"),e("#mhCookie_text").append('<a href="'+s+'">&raquo; Datenschutzerkl\xe4rung</a>'),e("#mhCookie_container").append('<div id="mhCookie_link"></div>'),e("#mhCookie_link").append('<a href="'+s+'" id="mhCookie_link_btn_yes"'+(!0===t?' class="active"':"")+">allen zustimmen</a>"),e("#mhCookie_link").append('<a href="" id="mhCookie_link_btn_no"'+(!1===t&&!1===n?' class="active"':"")+">alle ablehnen</a>"),e("#mhCookie_link").append('<a href="" id="mhCookie_link_btn_choose"'+(!0===n?' class="active"':"")+">ausw\xe4hlen</a>"),e("#mhCookie_link").append('<div id="mhCookie_link_choose_list"><ul><li>âœ… funktionale Cookies</li>'+(""!=i?i:"")+"</ul></div>"),e("rm#mhCookie_datenschutz").append('<button id="mhCookie_datenschutz_toggle">\uD83C\uDF6A Cookie Einstellungen \xf6ffnen</button>'),e("#mhCookie_link_btn_yes").on("click",function(i){i.preventDefault(),e("#mhCookie_link a").removeClass("active"),e(this).addClass("active"),o.tools.forEach(e=>o.config[e]=!0),o.set(o.configName,o.config),location.reload()}),e("#mhCookie_link_btn_no").on("click",function(i){i.preventDefault(),e("#mhCookie_link a").removeClass("active"),e(this).addClass("active"),o.tools.forEach(e=>o.config[e]=!1),o.set(o.configName,o.config),e("#mhCookie_container").fadeOut("fast"),e("#mhCookie_toggle").fadeIn("fast")}),e("#mhCookie_link_btn_choose").on("click",function(o){o.preventDefault(),e("#mhCookie_link a").removeClass("active"),e(this).addClass("active"),e("#mhCookie_link_choose_list").slideToggle("fast")}),e(".mhCookie_link_choose_list_item_cbx").on("change",function(i){i.preventDefault();var t=e(this).val(),n=e(this).prop("checked");o.config[t]=n,o.set(o.configName,o.config)}),e("#mhCookie_datenschutz_toggle, #mhCookie_toggle").on("click",function(){e("#mhCookie_toggle").hide(),e("#mhCookie_container").fadeIn("fast")}),0===Object.keys(this.get(this.configName)).length?setTimeout(function(){e("#mhCookie_container").fadeIn("fast")},1500):e("#mhCookie_toggle").fadeIn("fast")}}}var mhC=new mhCookie;document.addEventListener("readystatechange",function(e){"interactive"===e.target.readyState?window.mhCookie=mhC:"complete"===e.target.readyState&&("object"!=typeof window.mhCookie&&(window.mhCookie=mhC),window.mhCookie.init(jQuery||window.jQuery))}),function e(){if(window.jQuery){var o=0;window.addEventListener("scroll",function(e){var i=window.pageYOffset||document.documentElement.scrollTop;i>o?"24px"==jQuery("#mhCookie_toggle").css("right")&&jQuery("#mhCookie_toggle").animate({right:"-48px"},250):"-48px"==jQuery("#mhCookie_toggle").css("right")&&jQuery("#mhCookie_toggle").is(":visible")&&jQuery("#mhCookie_toggle").animate({right:"24px"},250),o=i<=0?0:i},!1)}else setTimeout(e,100)}();